<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>S√°ch & Slides ‚Äî V·∫≠t L√≠ 11: K·∫øt n·ªëi tri th·ª©c</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">
<style>
  :root{
    --bg:#f3f6fb; --card:#ffffff; --accent:#4f46e5; --muted:#6b7280;
    --sidebar:#0f172a;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Arial;background:var(--bg);color:#0f172a}
  .app{display:flex;min-height:100vh}
  /* SIDEBAR */
  .sidebar{
    width:300px;background:linear-gradient(180deg,#0b1220,#071029);color:#fff;padding:18px;position:sticky;top:0;height:100vh;
    box-shadow:2px 0 20px rgba(2,6,23,0.12);display:flex;flex-direction:column;gap:12px;
  }
  .brand{display:flex;align-items:center;gap:10px}
  .brand .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,#4f46e5,#06b6d4);display:flex;align-items:center;justify-content:center;font-weight:700}
  .brand h1{font-size:16px;margin:0}
  .mode-toggle{display:flex;gap:8px;margin-top:6px}
  .mode-toggle button{flex:1;padding:8px;border-radius:10px;border:0;background:transparent;color:#cbd5e1;cursor:pointer}
  .mode-toggle button.active{background:rgba(255,255,255,0.08);color:#fff}
  .search{margin-top:6px}
  .search input{width:100%;padding:8px;border-radius:8px;border:0;background:#0b1229;color:#fff}
  .list-wrap{overflow:auto;padding-right:6px;margin-top:8px}
  .chapter{margin:10px 0}
  .chapter h3{margin:0 0 8px;font-size:14px;color:#cbd5e1}
  .lesson-btn{display:block;width:100%;text-align:left;padding:8px 10px;border-radius:8px;border:0;background:transparent;color:#e6eefb;margin-bottom:6px;cursor:pointer}
  .lesson-btn:hover{background:rgba(255,255,255,0.03)}
  footer.sidebar-foot{margin-top:auto;color:#94a3b8;font-size:13px}
  /* MAIN */
  .main{flex:1;padding:18px;display:flex;flex-direction:column;gap:12px}
  .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .title{font-size:20px;font-weight:700}
  .controls{display:flex;gap:8px;align-items:center}
  .btn{padding:8px 12px;border-radius:10px;border:0;background:var(--accent);color:#fff;cursor:pointer}
  .viewer-wrap{display:flex;gap:16px;align-items:flex-start}
  /* left column (optional info) */
  .left-col{width:340px}
  .card{background:var(--card);border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(2,6,23,0.06)}
  .meta{color:var(--muted);font-size:13px}
  /* center viewer */
  .center{flex:1;display:flex;flex-direction:column;gap:12px}
  .viewer{background:var(--card);border-radius:12px;padding:12px;box-shadow:0 8px 30px rgba(2,6,23,0.06)}
  .img-wrap{height:72vh;display:flex;align-items:center;justify-content:center;border-radius:8px;background:#f7fafc;overflow:hidden;position:relative}
  img#pageImg{max-width:100%;max-height:100%;display:block}
  .placeholder{color:var(--muted)}
  .pdf-embed{width:100%;height:72vh;border:0;border-radius:8px;box-shadow:inset 0 0 0 1px #e6eef6}
  .nav{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:10px}
  .info{color:var(--muted)}
  /* responsive */
  @media (max-width:1000px){
    .sidebar{position:relative;width:100%;height:auto;flex-direction:row;gap:8px;padding:10px;align-items:center}
    .app{flex-direction:column}
    .viewer-wrap{flex-direction:column}
    .left-col{width:100%}
  }
</style>
</head>
<body>
<div class="app">
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="brand">
      <div class="logo">SV</div>
      <div>
        <h1>S√°ch & Slides</h1>
        <div class="meta" style="font-size:12px">V·∫≠t L√≠ ‚Äî Tr√¨nh b√†y & Gi√°o tr√¨nh</div>
      </div>
    </div>

    <div class="mode-toggle" role="tablist">
      <button id="modeBook" class="active" aria-pressed="true">S√°ch</button>
      <button id="modeSlides">Slides</button>
    </div>

    <div class="search">
      <input id="searchInput" placeholder="T√¨m b√†i ho·∫∑c t·ª´ kh√≥a..." />
    </div>

    <div class="list-wrap" id="listWrap" tabindex="0">
      <!-- chapters & lessons will be injected here -->
    </div>

    <!-- UPDATED SOURCE / CREDIT -->
    <footer class="sidebar-foot">
      <div style="font-weight:600;color:#e6eefb;margin-bottom:6px">T·ªï 1-2 l·ªõp 11L05 ‚Äî Tr∆∞·ªùng THPT Nguy·ªÖn H·ªØu C·∫ßu</div>
      <div style="font-size:13px;color:#94a3b8">NƒÉm h·ªçc: 2025‚Äì2026</div>
    </footer>
  </aside>

  <!-- MAIN -->
  <main class="main">
    <div class="topbar">
      <div class="title">üìò S√ÅCH GI√ÅO KHOA TR·ª∞C TUY·∫æN ‚Äî V·∫¨T L√ç 11 (K·∫æT N·ªêI TRI TH·ª®C)</div>
      <div class="controls">
        <a class="btn" id="downloadAllPdf" href="pdf/sach_vat_li.pdf" target="_blank">‚¨á T·∫£i PDF s√°ch</a>
      </div>
    </div>

    <div class="viewer-wrap">
      <!-- optional left info column (can be hidden) -->
      <div class="left-col" id="leftCol" style="display:none">
        <div class="card">
          <div id="lessonInfoTitle" style="font-weight:700">Th√¥ng tin b√†i</div>
          <div class="meta" id="lessonInfoMeta">Ch∆∞a ch·ªçn</div>
        </div>
      </div>

      <!-- center viewer -->
      <div class="center">
        <div class="viewer card">
          <h3 id="viewerTitle">Vui l√≤ng ch·ªçn b√†i h·ªçc</h3>

          <!-- IMAGE VIEW -->
          <div class="img-wrap" id="imgWrap">
            <div id="placeholder" class="placeholder">Ch·ªçn b√†i ƒë·ªÉ xem trang ƒë·∫ßu</div>
            <img id="pageImg" src="" alt="Trang s√°ch" style="display:none">
          </div>

          <!-- PDF VIEW -->
          <iframe id="pdfFrame" class="pdf-embed" style="display:none"></iframe>

          <!-- NAV -->
          <div class="nav">
            <button class="btn" id="prevBtn">‚Üê Tr∆∞·ªõc</button>
            <div class="info" id="pageInfo">‚Äî / ‚Äî</div>
            <button class="btn" id="nextBtn">Sau ‚Üí</button>
            <a id="downloadCurrent" class="btn" style="background:#06b6d4;margin-left:8px;display:none" download>‚¨á T·∫£i PDF</a>
          </div>

        </div>
      </div>
    </div>
  </main>
</div>

<script>
const data = [
  { title:"Ch∆∞∆°ng 1. DAO ƒê·ªòNG", lessons:[
    {title:"B√†i 1. Dao ƒë·ªông ƒëi·ªÅu h√≤a", folder:"lessons/chuong1/bai1", pages:4, slides:"slides/chuong1/bai1/presentation.pdf"},
    {title:"B√†i 2. M√¥ t·∫£ dao ƒë·ªông ƒëi·ªÅu h√≤a", folder:"lessons/chuong1/bai2", pages:3, slides:"slides/chuong1/bai2/presentation.pdf"},
    {title:"B√†i 3. V·∫≠n t·ªëc, gia t·ªëc", folder:"lessons/chuong1/bai3", pages:3, slides:"slides/chuong1/bai3/presentation.pdf"},
    {title:"B√†i 4. B√†i t·∫≠p dao ƒë·ªông", folder:"lessons/chuong1/bai4", pages:3, slides:"slides/chuong1/bai4/presentation.pdf"},
    {title:"B√†i 5. ƒê·ªông nƒÉng - Th·∫ø nƒÉng", folder:"lessons/chuong1/bai5", pages:4, slides:"slides/chuong1/bai5/presentation.pdf"},
    {title:"B√†i 6. Dao ƒë·ªông t·∫Øt d·∫ßn", folder:"lessons/chuong1/bai6", pages:4, slides:"slides/chuong1/bai6/presentation.pdf"},
    {title:"B√†i 7. B√†i t·∫≠p chuy·ªÉn nƒÉng l∆∞·ª£ng", folder:"lessons/chuong1/bai7", pages:3, slides:"slides/chuong1/bai7/presentation.pdf"}
  ]},
  { title:"Ch∆∞∆°ng 2. S√ìNG", lessons:[
    {title:"B√†i 8. M√¥ t·∫£ s√≥ng", folder:"lessons/chuong2/bai8", pages:3, slides:"slides/chuong2/bai8/presentation.pdf"},
    {title:"B√†i 9. S√≥ng ngang, s√≥ng d·ªçc", folder:"lessons/chuong2/bai9", pages:4, slides:"slides/chuong2/bai9/presentation.pdf"},
    {title:"B√†i 10. Th·ª±c h√†nh: ƒê·ªô t√°n x·∫°", folder:"lessons/chuong2/bai10", pages:3, slides:"slides/chuong2/bai10/presentation.pdf"},
    {title:"B√†i 11. S√≥ng ƒëi·ªán t·ª´", folder:"lessons/chuong2/bai11", pages:4, slides:"slides/chuong2/bai11/presentation.pdf"},
    {title:"B√†i 12. Giao thoa s√≥ng", folder:"lessons/chuong2/bai12", pages:4, slides:"slides/chuong2/bai12/presentation.pdf"},
    {title:"B√†i 13. S√≥ng d·ª´ng", folder:"lessons/chuong2/bai13", pages:3, slides:"slides/chuong2/bai13/presentation.pdf"},
    {title:"B√†i 14. B√†i t·∫≠p v·ªÅ s√≥ng", folder:"lessons/chuong2/bai14", pages:3, slides:"slides/chuong2/bai14/presentation.pdf"},
    {title:"B√†i 15. Th·ª±c h√†nh: ƒêo t·ªëc ƒë·ªô truy·ªÅn √¢m", folder:"lessons/chuong2/bai15", pages:2, slides:"slides/chuong2/bai15/presentation.pdf"}
  ]},
  { title:"Ch∆∞∆°ng 3. ƒêI·ªÜN TR∆Ø·ªúNG", lessons:[
    {title:"B√†i 16. L·ª±c t∆∞∆°ng t√°c gi·ªØa hai ƒëi·ªán t√≠ch", folder:"lessons/chuong3/bai16", pages:4, slides:"slides/chuong3/bai16/presentation.pdf"},
    {title:"B√†i 17. Kh√°i ni·ªám ƒëi·ªán tr∆∞·ªùng", folder:"lessons/chuong3/bai17", pages:3, slides:"slides/chuong3/bai17/presentation.pdf"},
    {title:"B√†i 18. ƒêi·ªán tr∆∞·ªùng ƒë·ªÅu", folder:"lessons/chuong3/bai18", pages:3, slides:"slides/chuong3/bai18/presentation.pdf"},
    {title:"B√†i 19. Th·∫ø nƒÉng ƒëi·ªán", folder:"lessons/chuong3/bai19", pages:3, slides:"slides/chuong3/bai19/presentation.pdf"},
    {title:"B√†i 20. ƒêi·ªán th·∫ø", folder:"lessons/chuong3/bai20", pages:2, slides:"slides/chuong3/bai20/presentation.pdf"},
    {title:"B√†i 21. T·ª• ƒëi·ªán", folder:"lessons/chuong3/bai21", pages:7, slides:"slides/chuong3/bai21/presentation.pdf"}
  ]},
  { title:"Ch∆∞∆°ng 4. D√íNG ƒêI·ªÜN. M·∫†CH ƒêI·ªÜN", lessons:[
    {title:"B√†i 22. C∆∞·ªùng ƒë·ªô d√≤ng ƒëi·ªán", folder:"lessons/chuong4/bai22", pages:2, slides:"slides/chuong4/bai22/presentation.pdf"},
    {title:"B√†i 23. ƒêi·ªán tr·ªü. ƒê·ªãnh lu·∫≠t Ohm", folder:"lessons/chuong4/bai23", pages:3, slides:"slides/chuong4/bai23/presentation.pdf"},
    {title:"B√†i 24. Ngu·ªìn ƒëi·ªán", folder:"lessons/chuong4/bai24", pages:2, slides:"slides/chuong4/bai24/presentation.pdf"},
    {title:"B√†i 25. NƒÉng l∆∞·ª£ng ƒëi·ªán v√† c√¥ng su·∫•t", folder:"lessons/chuong4/bai25", pages:3, slides:"slides/chuong4/bai25/presentation.pdf"},
    {title:"B√†i 26. Th·ª±c h√†nh: ƒêo su·∫•t ƒëi·ªán ƒë·ªông v√† ƒëi·ªán tr·ªü trong", folder:"lessons/chuong4/bai26", pages:3, slides:"slides/chuong4/bai26/presentation.pdf"}
  ]}
];

///// STATE /////
let mode = 'book'; // 'book' or 'slides'
let current = null;
let currentPage = 1;

///// UI refs /////
const listWrap = document.getElementById('listWrap');
const searchInput = document.getElementById('searchInput');
const modeBookBtn = document.getElementById('modeBook');
const modeSlidesBtn = document.getElementById('modeSlides');
const viewerTitle = document.getElementById('viewerTitle');
const placeholder = document.getElementById('placeholder');
const pageImg = document.getElementById('pageImg');
const pdfFrame = document.getElementById('pdfFrame');
const pageInfo = document.getElementById('pageInfo');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const downloadCurrent = document.getElementById('downloadCurrent');

///// RENDER sidebar list from data /////
function renderList(filter=''){
  listWrap.innerHTML = '';
  data.forEach((ch, ci) => {
    const chDiv = document.createElement('div');
    chDiv.className = 'chapter';
    const h = document.createElement('h3'); h.textContent = ch.title;
    chDiv.appendChild(h);
    ch.lessons.forEach((ls, li) => {
      const lower = (ch.title + ' ' + ls.title + ' ' + li).toLowerCase();
      if(filter && !lower.includes(filter.toLowerCase())) return;
      const b = document.createElement('button');
      b.className = 'lesson-btn';
      b.textContent = ls.title;
      b.addEventListener('click', ()=> openLesson(ci,li));
      chDiv.appendChild(b);
    });
    listWrap.appendChild(chDiv);
  });
}
renderList();

///// MODE toggle /////
modeBookBtn.addEventListener('click', ()=> setMode('book'));
modeSlidesBtn.addEventListener('click', ()=> setMode('slides'));
function setMode(m){
  mode = m;
  modeBookBtn.classList.toggle('active', m==='book');
  modeSlidesBtn.classList.toggle('active', m==='slides');
  // clear current view
  if(current){ showCurrent(); } else { resetView(); }
}

searchInput.addEventListener('input', (e)=> renderList(e.target.value));

///// open lesson by (chapter index, lesson index) /////
function openLesson(ci, li){
  current = data[ci].lessons[li];
  currentPage = 1;
  showCurrent();
  // scroll main to top for UX
  window.scrollTo({top:0,behavior:'smooth'});
}

function resetView(){
  viewerTitle.innerText = 'Vui l√≤ng ch·ªçn b√†i h·ªçc';
  placeholder.style.display = 'block';
  placeholder.innerText = 'Ch·ªçn b√†i ƒë·ªÉ xem trang ƒë·∫ßu';
  pageImg.style.display = 'none';
  pdfFrame.style.display = 'none';
  pageInfo.innerText = '‚Äî / ‚Äî';
  downloadCurrent.style.display = 'none';
}

function showCurrent(){
  if(!current) return resetView();
  viewerTitle.innerText = current.title;
  if(mode === 'book'){
    // show images
    pdfFrame.style.display = 'none';
    downloadCurrent.style.display = 'none';
    loadBookPage();
  } else {
    // show slides pdf
    pageImg.style.display = 'none';
    placeholder.style.display = 'none';
    pdfFrame.style.display = 'block';
    const pdfPath = current.slides || `slides/${current.folder.split('/').slice(-2).join('/')}/presentation.pdf`;
    pdfFrame.src = pdfPath;
    // enable download link if exists
    downloadCurrent.style.display = 'inline-block';
    downloadCurrent.href = pdfPath;
    downloadCurrent.innerText = '‚¨á T·∫£i b·∫£n tr√¨nh b√†y';
    pageInfo.innerText = 'PDF';
  }
}

function loadBookPage(){
  if(!current){ resetView(); return; }
  const p = String(currentPage).padStart(3,'0');
  const src = `${current.folder}/page-${p}.png`;
  placeholder.style.display = 'block';
  placeholder.innerText = 'ƒêang t·∫£i ·∫£nh...';
  pageImg.style.display = 'none';
  pageImg.src = src;
  pageImg.onload = ()=> {
    placeholder.style.display = 'none';
    pageImg.style.display = 'block';
    pageInfo.innerText = `${currentPage} / ${current.pages}`;
  };
  pageImg.onerror = ()=> {
    placeholder.style.display = 'block';
    pageImg.style.display = 'none';
    placeholder.innerText = `Kh√¥ng t√¨m th·∫•y ·∫£nh: ${src}`;
    pageInfo.innerText = `‚Äî / ${current.pages}`;
  };
}

nextBtn.addEventListener('click', ()=> {
  if(!current || mode!=='book') return;
  if(currentPage < current.pages){ currentPage++; loadBookPage(); }
});
prevBtn.addEventListener('click', ()=> {
  if(!current || mode!=='book') return;
  if(currentPage > 1){ currentPage--; loadBookPage(); }
});

// init
setMode('book');
resetView();
</script>
</body>
</html>

